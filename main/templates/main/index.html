{% extends 'main/base.html' %}

{% load static %}

{% comment %} {% block css_link %} "{% static 'main/css/index.css' %}" {% endblock %} {% endcomment %}

{% block css %}
    .carousel-item img { 
        height: 300px;
    }
{% endblock %}

{% block body %} 

<button type="button" class="btn btn-secondary mx-2" id="popcart" data-trigger="focus" data-html="true" data-container="body" data-toggle="popover" data-placement="bottom" data-content="Bottom popover">
    Cart(<span id="cart">0</span>)
</button>

    <section class="container">

        <!--######## Header contains the main slider and the offers slider ########-->
        <div class="header row justify-content-center">

            <!--##### Main carousel #####-->
            <div class="main-carousel col-md-8 my-3">
                <div id="MainCarousel" class="carousel slide carousel-fade" data-ride="carousel">
                    <div class="carousel-inner">
                        {% for img in main_images %}
                            {% if forloop.first %}
                                <div class="carousel-item active">
                            {% else %}
                                <div class="carousel-item">
                            {% endif %}
                                <img src='/media/{{img}}' class="d-block w-100" alt="...">
                            </div>
                        {% endfor %}
                    </div>
                    <button class="carousel-control-prev" type="button" data-target="#MainCarousel" data-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="sr-only">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-target="#MainCarousel" data-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="sr-only">Next</span>
                    </button>
                </div>
            </div> <!--MainCarousel ends here-->

            <!--##### Offer carousel #####-->
            <div class="offer-carousel col-md-4 my-3">
                <div id="OfferCarousel" class="carousel slide carousel-fade" data-ride="carousel">
                    <div class="carousel-inner">
                        {% for img in offer_images %}
                            {% if forloop.first %}
                                <div class="carousel-item active">
                            {% else %}
                                <div class="carousel-item">
                            {% endif %}
                                <img src='/media/{{img}}' class="d-block w-100" alt="...">
                            </div>
                        {% endfor %}
                    </div>
                    <button class="carousel-control-prev" type="button" data-target="#OfferCarousel" data-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="sr-only">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-target="#OfferCarousel" data-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="sr-only">Next</span>
                    </button>
                  </div>
            </div> <!--OfferCarousel ends here-->

        </div> <!--######## Header ends here ########-->

        <div class="categories my-3">
            <h5 class="text-center mb-3">Shop by category</h5>
            <div class="owl-carousel owl-theme">
                {% for category in categories %}
                <div class="item bg-dark">
                    <img src='/media/{{category.image}}' alt="">
                    <div class="d-flex justify-content-center p-2">
                        <a href="/main/categories/{{category.id}}" id="category_view{{category.id}}" class="btn btn-outline-info">{{category.name}}</a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

    </section>

{% endblock %}

{% block js %}
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script>

        $j('.owl-carousel').owlCarousel({
            loop: true,
            margin: 20,
            nav: false,
            autoplay: true,
            autoplayTimeout: 3000,
            responsive:{
                0:{
                    items:1
                },
                600:{
                    items:3
                },
                1000:{
                    items:5
                }
            }
        });       
    </script>

{% endblock %}    

